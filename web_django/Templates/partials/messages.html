{% if messages %}
<div id="messagesContainer" style="position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}" style="background: {% if message.tags == 'success' %}#10b981{% elif message.tags == 'error' %}#ef4444{% elif message.tags == 'warning' %}#f59e0b{% else %}#3b82f6{% endif %}; color: white; padding: 1rem 1.5rem; border-radius: 8px; margin-bottom: 0.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 0.75rem; animation: slideIn 0.3s ease-out;">
        <i class="fas {% if message.tags == 'success' %}fa-check-circle{% elif message.tags == 'error' %}fa-exclamation-circle{% elif message.tags == 'warning' %}fa-exclamation-triangle{% else %}fa-info-circle{% endif %}" style="font-size: 1.25rem;"></i>
        <span style="flex: 1;">{{ message }}</span>
        <button onclick="this.parentElement.remove()" style="margin-left: auto; background: none; border: none; color: white; cursor: pointer; font-size: 1.5rem; opacity: 0.8; padding: 0; line-height: 1; transition: opacity 0.2s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.8'">&times;</button>
    </div>
    {% endfor %}
</div>

<style>
    @keyframes slideIn {
        from { 
            transform: translateX(120%); 
            opacity: 0; 
        }
        to { 
            transform: translateX(0); 
            opacity: 1; 
        }
    }
    
    .alert { 
        animation: slideIn 0.3s ease-out, fadeOut 0.3s ease-out 4.7s forwards; 
    }
    
    @keyframes fadeOut {
        to { 
            opacity: 0; 
            transform: translateX(120%); 
        }
    }
    
    @media (max-width: 640px) {
        #messagesContainer {
            left: 10px;
            right: 10px;
            max-width: none;
        }
    }
</style>

<script>
    // Auto remove messages after 5 seconds
    setTimeout(() => {
        document.querySelectorAll('.alert').forEach(el => {
            el.style.animation = 'fadeOut 0.3s ease-out forwards';
            setTimeout(() => el.remove(), 300);
        });
    }, 5000);
</script>
{% endif %}
